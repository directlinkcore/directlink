!function(e,n){for(var t in n)e[t]=n[t]}(window,function(e){function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}var t={};return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},n.p="",n(n.s=0)}([function(e,n,t){"use strict";(function(n){function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function r(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}function i(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}function c(e){if(Array.isArray(e)){for(var n=0,t=Array(e.length);n<e.length;n++)t[n]=e[n];return t}return Array.from(e)}var a=function(){function e(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}}(),s=t(2),u=s.DeferredPromise,l={data:{},instances:{},scripts:{},styles:{},promises:{},nocache:!1,hmr:!1,renderApp:function(e,n){l.container=e,l.hub.start().then(function(){n?l.render(n):l.requestData(window.location.pathname),window.onpopstate=l.history.popState,"scrollRestoration"in history&&(history.scrollRestoration="manual"),l.history.current={path:location.pathname,hash:location.hash}}).catch(function(n){throw e.innerHTML="",n||"start signalr connection failed"})},render:function(e,n){var t=[];if(n){var o=l.nocache?"?_="+Date.now():"";for(var r in e.Scripts)l.scripts[r]!==e.Scripts[r]&&t.push(s.getScript(e.Scripts[r]+o));for(var i in e.Styles)l.styles[i]!==e.Styles[i]&&t.push(s.getStyle(e.Styles[i]+o))}Promise.all(t).then(function(){if(l.scripts=Object.assign(l.scripts,e.Scripts),l.styles=Object.assign(l.styles,e.Styles),l.data=e,document.title=e.Title,l.rendered){for(var n in e.States){var t=l.instances[n];t&&t.setState(e.States[n])}l.forceUpdate?(l.instances.HMR.forceUpdate(),delete l.forceUpdate):l.scrollIntoView(location.hash)}else{var o=l.container.childElementCount?ReactDOM.hydrate:ReactDOM.render;l.hmr?l.instances.HMR=o(React.createElement(h,{component:e.App}),l.container,l.onRendered):o(React.createElement(components[e.App]),l.container,l.onRendered)}})},onRendered:function(){l.rendered=!0,l.linked=Promise.resolve(),l.scrollIntoView(location.hash)},init:function(e){if(e.name=s.getClassName(e),e.scope=e.props.scope||e.context&&e.context.scope,e.scope&&(e.fullname=e.scope+"."+e.name),e.props.fullname&&(e.fullname=e.props.fullname),e.fullname||(e.fullname=e.name),e.props.id&&(e.fullname+="$"+e.props.id),e.state=l.data.States[e.fullname]||{},e.name===l.data.App&&(e.state.online=!0),n.signalR){l.instances[e.fullname]=e,e.invoke=function(n,t){var o=s.getGuid(),r=new u(function(r,i){l.online().then(function(){return l.linked}).then(function(){t&&!Array.isArray(t)&&(t=[t]),l.hub.instance.invoke("invoke",o,e.fullname,e.name,n,t).catch(function(e){delete l.promises[o],i(e)})}).catch(function(e){return i(e)})});return l.promises[o]=r,r};for(var t in l.data.Methods[e.name]){var o=l.data.Methods[e.name][t];e[o]=function(n){return function(){for(var t=arguments.length,o=Array(t),r=0;r<t;r++)o[r]=arguments[r];return e.invoke(n,[].concat(o))}}(o)}-1!==l.data.Bidirectional.indexOf(e.name)&&(e.bidirectional=!0,l.link(e)),e.updateId=function(n){l.unlink(e),delete l.instances[e.fullname],e.fullname.indexOf("$")>0&&(e.fullname=e.fullname.replace("$"+e.props.id,"$"+n)),l.instances[e.fullname]=e,l.link(e)}}},link:function(e){var n=Object.assign({},e.props);delete n.scope,delete n.fullname,l.hub.instance.invoke("link",e.fullname,e.name,n)},unlink:function(e){return l.hub.instance.invoke("unlink",e.fullname,e.name)},dispose:function(e){l.hmr||(e.bidirectional&&l.unlink(e),delete l.instances[e.fullname])},requestData:function(e,n){return l.hub.instance.invoke("requestData",e,n)},hub:{instance:null,connectionId:function(){return l.hub.instance&&l.hub.instance.connection.connectionId},init:function(){var e=new signalR.HubConnection("/directlink");e.on("SetState",function(e,n){l.instances.hasOwnProperty(e)&&l.instances[e].setState(n)}),e.on("Invoke",function(e,n,t){if(l.instances.hasOwnProperty(e))if(t){var o;(o=l.instances[e])[n].apply(o,c(t))}else l.instances[e][n]()}),e.on("DataResponse",function(e){if(e.Data)return void l.render(e.Data,!0);throw e.StatusCode}),e.on("InvokeResult",function(e,n){var t=l.promises[e];if(delete l.promises[e],n&&200===n.StatusCode)return void(void 0!==n.Result?t.resolve(n.Result):t.resolve());t.reject(n&&n.StatusCode||"unexpected result")}),e.on("AssetsUpdate",function(){l.forceUpdate=!0,l.requestData(window.location.pathname)});var n=function(e){e&&console.error(e),l.instances[l.data.App].setState({online:!1}),l.hub.reconnect("closed")};e.onclose?e.onclose(n):e.onClosed=n,l.hub.instance=e},state:"",start:function(){return l.hub.init(),l.hub.instance.start().then(function(){l.hub.reconnectCount=0,l.hub.state="connected",l.rendered&&(l.linked=new Promise(function(e){for(var n in l.instances){var t=l.instances[n];t.bidirectional&&l.link(t)}e()})),l.rendered&&l.instances[l.data.App].setState({online:!0})}).catch(function(e){throw setTimeout(function(){l.hub.reconnect("failed")},0),e||"start signalr connection failed"})},stop:function(){return l.hub.instance.connection.stop()},reconnect:function(e){var n=l.hub;if(n.state=e,"closed"!==e&&"waited"!==e||(n.state="reconnecting",n.reconnectPromise=n.start()),"failed"===e){n.state="waiting";var t=n.reconnectTimeouts.length-1;l.hub.reconnectTimer=setTimeout(function(){"waiting"===n.state&&(n.reconnectCount<t&&n.reconnectCount++,n.reconnect("waited"))},n.reconnectTimeouts[Math.min(n.reconnectCount,t)])}},reconnectPromise:null,reconnectTimer:null,reconnectTimeouts:[1e3,5e3,2e4,6e4],reconnectCount:0},online:function(){return new Promise(function(e,n){var t=l.hub;if(2===t.instance.connection.connectionState)return void e();"reconnecting"===t.state&&t.reconnectPromise.then(function(){return e()}).catch(function(){return n("not connected")}),"waiting"===t.state&&(clearTimeout(t.reconnectTimer),t.reconnect("waited"),t.reconnectPromise.then(function(){return e()}).catch(function(){return n("not connected")})),setTimeout(function(){return n("not connected")},1e4)})},history:{current:{path:null,hash:null},pushState:function(e,n,t){var o="",r=t.indexOf("#");return 0===r?(o=t,l.history.current.hash!==o&&history.pushState(e,n,l.history.current.path+o),void l.scrollIntoView(o)):(t.startsWith("/")||(t="/"+t,r>0&&r++),r>0&&(o=t.substring(r),t=t.substring(0,r),l.history.current.path===t)?(l.history.current.hash!==o&&history.pushState(e,n,t+o),void l.scrollIntoView(o)):(history.pushState(e,n,t+o),void l.history.dispatch(t,o)))},popState:function(){l.history.current.path===location.pathname?l.scrollIntoView(location.hash):l.history.dispatch(location.pathname,location.hash)},dispatch:function(e,n){var t=l.history.current.path;l.history.current={path:e,hash:n},l.online().then(function(){return l.requestData(e+n,t)}).catch(function(e){return console.error(e)})}},scrollIntoView:function(e){if(e)try{var n=document.querySelector(e);null!==n&&n.scrollIntoView({block:"start",behavior:"smooth"})}catch(e){console.log(e)}else window.scrollTo(window.scrollX,0)}},f=function(e){return e.href||console.error("Link requires 'href' property"),React.createElement("a",{style:e.style,className:e.className,href:e.href,onClick:function(n){n.preventDefault(),"function"==typeof e.onClick&&e.onClick(n),l.history.pushState({},"",e.href)}},e.children)},p=function(e){e.component||console.error("Render requires 'component' property");var n=Object.assign({},e);return delete n.component,n.fullname=e.component&&e.component.FullName,e.component&&React.createElement(components[e.component.Name],n)},h=function(e){function n(){return o(this,n),r(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return i(n,e),a(n,[{key:"render",value:function(){return this.props.component||console.error("HMR requires 'component' property"),this.props.component&&React.createElement(components[this.props.component])}}]),n}(React.Component),d=function(e){return e.name||console.error("Scope requires 'name' property"),React.Children.map(e.children,function(n){return React.isValidElement(n)?React.cloneElement(n,{scope:e.name}):n})};e.exports={components:{},directlink:l,Link:f,Render:p,HMR:h,Scope:d}}).call(n,t(1))},function(e,n){var t;t=function(){return this}();try{t=t||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(t=window)}e.exports=t},function(e,n,t){"use strict";function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var r="0123456789abcdef".split(""),i=function(){var e=[],n=Math.random,t=void 0;e[8]=e[13]=e[18]=e[23]="-",e[14]="4";for(var o=0;o<36;o++)e[o]||(t=0|16*n(),e[o]=r[19==o?3&t|8:15&t]);return e.join("")},c=function(e){return new Promise(function(n,t){var o=document.createElement("script");o.type="text/javascript",o.src=e,o.addEventListener("load",function(){return n(o)},!1),o.addEventListener("error",function(){return t(o)},!1),document.body.appendChild(o)})},a=function(e){return new Promise(function(n,t){var o=document.createElement("link");o.rel="stylesheet",o.href=e,o.addEventListener("load",function(){return n(o)},!1),o.addEventListener("error",function(){return t(o)},!1),document.body.appendChild(o)})},s=function(e){if(e.constructor.name)return e.constructor.name;var n=new RegExp(/^\s*function\s*(\S*)\s*\(/);return function(e){return e.constructor.toString().match(n)[1]}(e)},u=function e(n){var t=this;o(this,e),this._promise=new Promise(function(e,o){t.resolve=e,t.reject=o,n(e,o)}),this.then=this._promise.then.bind(this._promise),this.catch=this._promise.catch.bind(this._promise)};e.exports={getGuid:i,getScript:c,getStyle:a,getClassName:s,DeferredPromise:u}}]));